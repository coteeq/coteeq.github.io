<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->

</PRE>
<H2>SYNOPSIS</H2><PRE>
       <B>#include</B> <B>&lt;liburing.h&gt;</B>

       <B>void</B> <B>io_uring_prep_cancel64(struct</B> <B>io_uring_sqe</B> <B>*</B><I>sqe</I><B>,</B>
                                   <B>__u64</B> <I>user</I><B>_</B><I>data</I><B>,</B>
                                   <B>int</B> <I>flags</I><B>);</B>

       <B>void</B> <B>io_uring_prep_cancel(struct</B> <B>io_uring_sqe</B> <B>*</B><I>sqe</I><B>,</B>
                                 <B>void</B> <B>*</B><I>user</I><B>_</B><I>data</I><B>,</B>
                                 <B>int</B> <I>flags</I><B>);</B>

       <B>void</B> <B>io_uring_prep_cancel_fd(struct</B> <B>io_uring_sqe</B> <B>*</B><I>sqe</I><B>,</B>
                                 <B>int</B> <I>fd</I><B>,</B>
                                 <B>int</B> <I>flags</I><B>);</B>


</PRE>
<H2>DESCRIPTION</H2><PRE>
       The <B><A HREF="io_uring_prep_cancel.3.html">io_uring_prep_cancel(3)</A></B> function prepares a cancelation request. The
       submission queue entry <I>sqe</I> is prepared to cancel an existing request
       identified by <I>user</I><B>_</B><I>data</I>.  For the <I>flags</I> argument, see below.

       <B><A HREF="io_uring_prep_cancel64.3.html">io_uring_prep_cancel64(3)</A></B> is identical to <B><A HREF="io_uring_prep_cancel.3.html">io_uring_prep_cancel(3)</A></B><B>,</B> except
       it takes a 64-bit integer rather than a pointer type.

       The cancelation request will attempt to find the previously issued
       request identified by <I>user</I><B>_</B><I>data</I> and cancel it. The identifier is what the
       previously issued request has in their <I>user</I><B>_</B><I>data</I> field in the SQE.

       The <B><A HREF="io_uring_prep_cancel_fd.3.html">io_uring_prep_cancel_fd(3)</A></B> function prepares a cancelation request.
       The submission queue entry <I>sqe</I> is prepared to cancel an existing request
       that used the file descriptor <I>fd</I>.  For the <I>flags</I> argument, see below.

       The cancelation request will attempt to find the previously issued
       request that used <I>fd</I> as the file descriptor and cancel it.

       By default, the first request matching the criteria given will be
       canceled.  This can be modified with any of the following flags passed
       in:

       <B>IORING_ASYNC_CANCEL_ALL</B>
              Cancel all requests that match the given criteria, rather than
              just canceling the first one found. Available since 5.19.

       <B>IORING_ASYNC_CANCEL_FD</B>
              Match based on the file descriptor used in the original request
              rather than the user_data. This is what <B><A HREF="io_uring_prep_cancel_fd.3.html">io_uring_prep_cancel_fd(3)</A></B>
              sets up. Available since 5.19.

       <B>IORING_ASYNC_CANCEL_ANY</B>
              Match any request in the ring, regardless of user_data or file
              descriptor.  Can be used to cancel any pending request in the
              ring. Available since 5.19.

       <B>-EINVAL</B>
              One of the fields set in the SQE was invalid.

       <B>-EALREADY</B>
              The execution state of the request has progressed far enough that
              cancelation is no longer possible. This should normally mean that
              it will complete shortly, either successfully, or interrupted due
              to the cancelation.


</PRE>
<H2>NOTES</H2><PRE>
       Although the cancelation request uses async request syntax, the kernel
       side of the cancelation is always run synchronously. It is guaranteed
       that a CQE is always generated by the time the cancel request has been
       submitted. If the cancelation is successful, the completion for the
       request targeted for cancelation will have been posted by the time
       submission returns. For <B>-EALREADY</B> it may take a bit of time to do so. For
       this case, the caller must wait for the canceled request to post its
       completion event.


</PRE>
<H2>SEE ALSO</H2><PRE>
       <B><A HREF="io_uring_prep_poll_remove.3.html">io_uring_prep_poll_remove(3)</A></B>, <B><A HREF="io_uring_get_sqe.3.html">io_uring_get_sqe(3)</A></B>, <B><A HREF="io_uring_submit.3.html">io_uring_submit(3)</A></B>



liburing-2.2                     March 12, 2022          <B><A HREF="io_uring_prep_cancel.3.html">io_uring_prep_cancel(3)</A></B>
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
