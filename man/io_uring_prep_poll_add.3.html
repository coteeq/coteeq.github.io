<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->

</PRE>
<H2>SYNOPSIS</H2><PRE>
       <B>#include</B> <B>&lt;poll.h&gt;</B>
       <B>#include</B> <B>&lt;liburing.h&gt;</B>

       <B>void</B> <B>io_uring_prep_poll_add(struct</B> <B>io_uring_sqe</B> <B>*</B><I>sqe</I><B>,</B>
                                   <B>int</B> <I>fd</I><B>,</B>
                                   <B>unsigned</B> <I>poll</I><B>_</B><I>mask</I><B>);</B>

       <B>void</B> <B>io_uring_prep_poll_multishot(struct</B> <B>io_uring_sqe</B> <B>*</B><I>sqe</I><B>,</B>
                                         <B>int</B> <I>fd</I><B>,</B>
                                         <B>unsigned</B> <I>poll</I><B>_</B><I>mask</I><B>);</B>


</PRE>
<H2>DESCRIPTION</H2><PRE>
       The <B><A HREF="io_uring_prep_poll_add.3.html">io_uring_prep_poll_add(3)</A></B> function prepares a poll request. The
       submission queue entry <I>sqe</I> is setup to use the file descriptor <I>fd</I> that
       should get polled, with the events desired specified in the <I>poll</I><B>_</B><I>mask</I>
       argument.

       The default behavior is a single-shot poll request. When the specified
       event has triggered, a completion CQE is posted and no more events will
       be generated by the poll request.  <B><A HREF="io_uring_prep_poll_multishot.3.html">io_uring_prep_poll_multishot(3)</A></B>
       behaves identically in terms of events, but it persist across
       notifications and will repeatedly post notifications for the same
       registration. A CQE posted from a multishot poll request will have
       <B>IORING_CQE_F_MORE</B> set in the CQE <I>flags</I> member, indicating that the
       application should expect more completions from this request. If the
       multishot poll request gets terminated or experiences an error, this flag
       will not be set in the CQE. If this happens, the application should not
       expect further CQEs from the original request and must reissue a new one
       if it still wishes to get notifications on this file descriptor.



</PRE>
<H2>RETURN VALUE</H2><PRE>
       None


</PRE>
<H2>ERRORS</H2><PRE>
       The CQE <I>res</I> field will contain the result of the operation, which is a
       bitmask of the events notified. See the <B><A HREF="poll.2.html">poll(2)</A></B> man page for details.
       Note that where synchronous system calls will return <B>-1</B> on failure and
       set <I>errno</I> to the actual error value, io_uring never uses <I>errno</I>.  Instead
       it returns the negated <I>errno</I> directly in the CQE <I>res</I> field.


</PRE>
<H2>SEE ALSO</H2><PRE>
       <B><A HREF="io_uring_get_sqe.3.html">io_uring_get_sqe(3)</A></B>, <B><A HREF="io_uring_submit.3.html">io_uring_submit(3)</A></B>, <B><A HREF="poll.2.html">poll(2)</A></B>, <B><A HREF="epoll_ctl.3.html">epoll_ctl(3)</A></B>



liburing-2.2                     March 12, 2022        <B><A HREF="io_uring_prep_poll_add.3.html">io_uring_prep_poll_add(3)</A></B>
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
